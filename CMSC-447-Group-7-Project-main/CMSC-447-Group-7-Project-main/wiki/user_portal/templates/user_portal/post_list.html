{% extends 'base.html' %} {% block content %}

<div class="container mx-auto p-8">
  <h2 class="text-2xl font-bold mb-6">Posts List</h2>

  <table class="min-w-full bg-white rounded-md shadow-md">
    <thead>
      <tr>
        <th class="py-3 px-4 text-left text-gray-600">Title</th>
        <th class="py-3 px-4 text-left text-gray-600">Author</th>
        <th class="py-3 px-4 text-left text-gray-600">Category</th>
        <th class="py-3 px-4 text-left text-gray-600">Date</th>
        <th class="py-3 px-4 text-center text-gray-600">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for post in posts %}
      <tr class="border-b border-gray-200">
        <td class="py-3 px-4">{{ post.title }}</td>
        <td class="py-3 px-4">{{ post.author }}</td>
        <td class="py-3 px-4">{{ post.category }}</td>
        <td class="py-3 px-4">{{ post.date|date:"M d, Y" }}</td>
        <td class="py-3 px-4 text-center">
          <a href="{% url 'post_detail' post.id %}" class="text-indigo-600 hover:text-indigo-900">View</a> |
          <a href="{% url 'edit_post' post.id %}" class="text-green-600 hover:text-green-900">Edit</a> |
          <a
            href="{% url 'delete_post' post.id %}"
            class="text-red-600 hover:text-red-900"
            onclick="return confirm('Are you sure you want to delete this post?');"
            >Delete</a
          >
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5" class="py-3 px-4 text-center text-gray-500">No posts found.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- Optional: Add a button to create a new post -->
  <div class="mt-6 text-center">
    <a href="{% url 'create_post' %}" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
      >Create New Post</a
    >
  </div>
</div>

{% endblock %}
